//Wrecked ship warps
treasure01,112,164,0	warp	tre01	1,4,treasure01,97,164
treasure01,125,161,0	warp	tre02	1,3,treasure01,144,161
treasure01,142,161,0	warp	tre02-1	1,3,treasure01,123,161
treasure01,164,114,0	warp	tre03	3,1,treasure01,164,88
treasure01,164,91,0	warp	tre03-1	5,1,treasure01,164,116
treasure01,99,164,0	warp	tre01-1	1,4,treasure01,114,164
treasure01,76,111,0	warp	tre10	1,3,treasure01,100,111
treasure01,38,164,0	warp	tre04-1	1,4,treasure01,25,164
treasure01,40,111,0	warp	tre05	1,3,treasure01,67,112
treasure01,62,111,0	warp	tre05-1	1,3,treasure01,38,111
treasure01,27,164,0	warp	tre04	1,4,treasure01,40,164
treasure01,69,75,0	warp	tre07	2,1,treasure01,69,106
treasure01,69,125,0	warp	tre08	4,1,treasure01,69,142
treasure01,69,140,0	warp	tre08-1	4,1,treasure01,69,123
treasure01,98,111,0	warp	tre10-1	1,3,treasure01,74,111
treasure01,69,177,0	warp	tre002	3,1,treasure02,102,27
treasure01,41,37,0	warp	tre06	1,3,treasure01,61,37
treasure01,58,37,0	warp	tre06-1	1,3,treasure01,39,37
treasure01,69,102,0	warp	tre07-1	2,1,treasure01,69,77
treasure01,79,37,0	warp	tre09	1,3,treasure01,98,37
treasure01,96,37,0	warp	tre09-1	1,3,treasure01,77,37
treasure01,69,22,0	warp	tre001	4,1,alb2trea,85,107
treasure02,102,103,0	warp	tre11	5,1,treasure02,102,120
treasure02,102,118,0	warp	tre11-1	5,1,treasure02,102,101
treasure02,155,128,0	warp	tre13-1	1,1,treasure02,155,97
treasure02,155,99,0	warp	tre13	1,1,treasure02,155,130
treasure02,49,99,0	warp	tre14-1	1,1,treasure02,49,130
treasure02,102,24,0	warp	tre003	3,1,treasure01,69,179
treasure02,123,72,0	warp	tre12	1,4,treasure02,140,72
treasure02,138,72,0	warp	tre12-1	1,4,treasure02,121,72
treasure02,49,128,0	warp	tre14	1,1,treasure02,49,97
treasure02,65,72,0	warp	tre15	1,4,treasure02,82,72
treasure02,80,72,0	warp	tre15-1	1,4,treasure02,63,72

// Single-use treasure chests
// There's probably a better way to do this lol
// I'm still learning this rA scripting stuff
treasure01,27,114,0	script	Treasure#trch01	111,{
	if(!(treasure & 0x1)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x1);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

treasure01,112,112,0	script	Treasure#trch02	111,{
	if(!(treasure & 0x2)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x2);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

treasure01,18,165,0	script	Treasure#trch03	111,{
	if(!(treasure & 0x4)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x4);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

treasure02,34,80,0	script	Treasure#trch04	111,{
	if(!(treasure & 0x8)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x8);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

treasure02,24,146,0	script	Treasure#trch05	111,{
	if(!(treasure & 0x10)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x10);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

treasure02,55,33,0	script	Treasure#trch06	111,{
	if(!(treasure & 0x20)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x20);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

treasure02,155,34,0	script	Treasure#trch07	111,{
	if(!(treasure & 0x40)) {
		message strcharinfo(0),"Hey, treasure!";
		treasure = (treasure | 0x40);
		callfunc("HeyAnItemDrop",100,BaseLevel,0);
	} else {
		message strcharinfo(0),"I've already gotten this treasure.";
	}
}

// Warp to wrecked ship
alb2trea,89,110,0	script	warptoship#ch2	45,1,1,{
onTouch:
	if(questflag < 5) {
		message strcharinfo(0),"Maybe I shouldn't go in here yet...";
		end;
	}
	else
		warp "treasure01",68,25;
}

// Mobs
// F1
treasure01,0,0	monster	Skeletal Deckhand 	1076,40
treasure01,0,0	monster	Barnacle	1161,10

// F2
treasure02,0,0	monster	Skeletal Cutthroat 	1071,20
treasure02,0,0	monster	Skeletal Deckhand 	1076,20
treasure02,0,0	monster	Barnacle	1161,10

// Bosses

treasure01,163,56,0,0	monster	Skeletal Quartermaster	2406,1,30000,0,"mob#ch2Boss1::OnKill"
treasure02,102,153,0,0	monster	Admiral Bramwell	1112,1,30000,0,"mob#ch2Boss2::OnKill"

treasure01,0,0,0	script	mob#ch2Boss1	-1,{
OnKill:
	if(!(ch2Obj & 1)) {
		if(ch2Obj & 2)
			message strcharinfo(0),"That's both treasure caches, I should warp back using Town Portal.";
		else
			message strcharinfo(0),"Here's one treasure cache, there must be another somewhere futher down in the ship...";
	
		ch2Obj = (ch2Obj | 1);
	}
end;
}

treasure02,0,0,0	script	mob#ch2Boss2	-1,{
OnKill:
	if(!(ch2Obj & 2)) {
		if(ch2Obj & 1)
			message strcharinfo(0),"That's both treasure caches, I should warp back using Town Portal.";
		else
			message strcharinfo(0),"Here's one treasure cache, I must've passed by the other one...";
	
		ch2Obj = (ch2Obj | 2);
	}
end;
}