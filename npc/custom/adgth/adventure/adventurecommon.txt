rachel,137,146,6	script	Recruiter#rachel	65,{
	mes "[Izaak]";
	mes "hi i'm the adventure npc";
	next;
	menu "Let Adventure",advAdventure,"What \"Adventure\"",advDescription,"ok bye",advExit;
	
	advBackToMenu:
		mes "[Izaak]";
		mes "so do u want to adventure";
		next;
		menu "Let Adventure",advAdventure,"What \"Adventure\"",advDescription,"ok bye",advExit;
		
	advAdventure:
		mes "[Izaak]";
		mes "sick, dope. ok normally this is random but i'm testing.";
		mes " ";
		mes "pick adventure";
		next;
		menu "New Zepore",adv1,"Back",advBackToMenu;
	
	advDescription:
		mes "[Izaak]";
		mes "Adventures are small, semi-randomized instances.";
		mes " ";
		mes "The main features of them are that they are short, with adjustable difficulty, level scaling, and provide a bonus for completing them.";
		next;
		mes "[Izaak]";
		mes "Difficulty can be adjusted from 50% to 200%, with 100% being the default.";
		mes " ";
		mes "The higher the difficulty, the greater the rewards. Be careful, however. Adventures are meant to be a challenge even at regular difficulty. Don't be afraid to turn the difficulty down if you are struggling.";
		next;
		goto advBackToMenu;
		
	advExit:
		close;
		
	// Most of this instance stuff just ripped out of Endless Tower lol
	// New Zepore
	adv1:
		set .@party_id, getcharid(1);
		set .@md_name$, "New Zepore";
		
		if (!instance_check_party(.@party_id,1)) {
			mes "[Izaak]";
			mes "woah bro. u need a party for this.";
			close;
		}
		
		if (getcharid(0) == getpartyleader(.@party_id,2)) {
			mes "you're the party leader. u ready for this bro.";
			next;
			switch(select("Begin Adventure - "+.@md_name$+":Rejoin Adventure:Cancel")) {
			case 1:
				if (instance_create(.@md_name$) < 0) {
					mes "instancing failed... is one already open?";
					mes " ";
					mes "if this keeps up report it, Thanks In Advance";
					close;
				}
				callsub L_Enter,0;
				close;
			case 2:
				callsub L_Enter,0;
			case 3:
				close;
			}
		}
		
		switch(select("Join Adventure - "+.@md_name$+":Cancel")) {
			case 1:
				callsub L_Enter,1;
			case 2:
				end;
		}
		
	L_Enter:
		switch(instance_enter("New Zepore")) {
		case 3:
			mes "uh?? something broke";
			close;
		case 2:
			mes "your party doesn't have an adventure yet. tell your party leader to start one.";
			close;
		case 1:
			mes "party error my guy";
			close;
		case 0:
			if (getarg(0) == 0) close;
			else end;
		}
}